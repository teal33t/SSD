# آشنایی با رمزنگاری و کاربردهای آن

شاید کلمه "رمزنگاری" (encryption) را شنیده باشید، اما در زمینه‌های مختلف به قدری استفاده شده که گیج‌کننده شده است. ممکن است دیده باشید که به همه چیز از محافظت از لپ‌تاپ، امنیت برنامه چت، یا محافظت از خرید آنلاین شما اشاره می‌کند. صرف نظر از زمان استفاده، وقتی درباره رمزنگاری صحبت می‌کنیم، به یک چیز اشاره می‌کنیم: فرآیند ریاضی تبدیل یک پیام به حالتی که غیرقابل خواندن است مگر برای شخصی که "کلید" (key) را برای "رمزگشایی" (decrypt) آن دارد. از آنجا، پیچیده‌تر می‌شود.

مردم از رمزنگاری برای ارسال پیام‌هایی به یکدیگر استفاده کرده‌اند که (امیدوارانه) توسط هیچ کس به جز گیرنده مورد نظر قابل خواندن نباشد. امروزه، ما کامپیوترهایی داریم که قادر به انجام رمزنگاری برای ما هستند. فناوری رمزنگاری دیجیتال فراتر از پیام‌های مخفی ساده گسترش یافته است، و این روزها می‌توانید از رمزنگاری برای اهداف پیچیده‌تری استفاده کنید، نه تنها پنهان کردن محتوای پیام‌ها از چشم‌های کنجکاو، بلکه همچنین تأیید نویسنده آن پیام‌ها.

رمزنگاری بهترین فناوری است که ما برای محافظت از اطلاعات در برابر افراد بدخواه، دولت‌ها و ارائه‌دهندگان خدمات داریم. هنگامی که به درستی استفاده شود، شکستن آن تقریباً غیرممکن است.

در این راهنما، به دو روش اصلی که رمزنگاری اعمال می‌شود نگاه خواهیم کرد: برای رمزگذاری داده‌های در حال استراحت و داده‌های در حال انتقال.

## رمزنگاری داده‌های در حال استراحت

داده‌های "در حال استراحت" (data at rest) داده‌هایی هستند که در جایی ذخیره شده‌اند، مانند یک دستگاه تلفن همراه، لپ‌تاپ، سرور یا هارد دیسک خارجی. هنگامی که داده‌ها در حال استراحت هستند، از یک مکان به مکان دیگر حرکت نمی‌کنند.

یک نمونه از شکل رمزنگاری که از داده‌های در حال استراحت محافظت می‌کند، رمزنگاری "کامل دیسک" (full-disk encryption) (که گاهی اوقات "رمزنگاری دستگاه" نیز نامیده می‌شود) است. فعال کردن رمزنگاری کامل دیسک، تمام اطلاعات ذخیره شده روی یک دستگاه را رمزگذاری می‌کند و اطلاعات را با یک عبارت عبور (passphrase) یا روش احراز هویت دیگر محافظت می‌کند. روی یک دستگاه تلفن همراه یا لپ‌تاپ، این معمولاً به شکل صفحه قفل دستگاه است که نیاز به کد عبور، عبارت عبور یا اثر انگشت دارد. با این حال، قفل کردن دستگاه خود (یعنی نیاز به یک رمز عبور (password) برای "باز کردن قفل" دستگاه شما) همیشه به این معنی نیست که رمزنگاری کامل دیسک فعال شده است.

مطمئن شوید که چگونه سیستم عامل (operating system) شما رمزنگاری کامل دیسک را فعال و مدیریت می‌کند. در حالی که برخی سیستم‌های عامل رمزنگاری کامل دیسک را به طور پیش‌فرض فعال دارند، برخی سیستم‌های عامل این کار را انجام نمی‌دهند. این بدان معناست که کسی می‌تواند با دور زدن قفل دستگاه و دسترسی مستقیم به هارد درایو، بدون نیاز به شکستن کلید رمزنگاری (encryption key) به داده‌های روی دستگاه شما دسترسی پیدا کند، زیرا خود دستگاه رمزگذاری نشده است. برخی سیستم‌ها متن ساده رمزگذاری نشده را در RAM ذخیره می‌کنند، حتی زمانی که از رمزنگاری کامل دیسک استفاده می‌کنید. RAM حافظه موقت است، که به این معنی است که پس از خاموش شدن دستگاه شما، حافظه معمولاً نمی‌تواند خوانده شود، اما یک مخالف پیچیده می‌تواند یک حمله راه‌اندازی سرد (cold boot attack) را انجام دهد و به طور قابل تصوری محتویات RAM را بازیابی کند.

رمزنگاری کامل دیسک می‌تواند از دستگاه‌های شما در برابر افرادی که به آنها دسترسی فیزیکی دارند محافظت کند. این برای کسانی که می‌خواهند از داده‌های خود در برابر هم‌اتاقی‌ها، همکاران یا کارفرمایان، مسئولان مدرسه، اعضای خانواده، شرکا، افسران پلیس یا سایر مقامات اجرای قانون محافظت کنند، مفید است. همچنین از داده‌های روی دستگاه‌های شما در صورت سرقت یا گم شدن محافظت می‌کند، مانند زمانی که به طور تصادفی تلفن خود را در اتوبوس یا رستوران جا می‌گذارید.

راه‌های دیگری برای رمزنگاری (encrypt) داده‌های در حال استراحت وجود دارد. یک گزینه، که به عنوان "رمزنگاری فایل" شناخته می‌شود، فقط فایل‌های فردی را روی یک کامپیوتر یا دستگاه ذخیره‌سازی دیگر رمزگذاری می‌کند. گزینه دیگر "رمزنگاری درایو" (همچنین به عنوان "رمزنگاری دیسک" شناخته می‌شود) است که تمام داده‌های موجود در یک منطقه ذخیره‌سازی خاص روی یک دستگاه را رمزگذاری می‌کند.

می‌توانید از این انواع مختلف رمزنگاری در حال استراحت به صورت ترکیبی استفاده کنید. به عنوان مثال، فرض کنید می‌خواهید از اطلاعات حساس در اسناد پزشکی خود محافظت کنید. می‌توانید از رمزنگاری فایل برای رمزگذاری یک فایل پزشکی فردی ذخیره شده روی دستگاه خود استفاده کنید. سپس می‌توانید از رمزنگاری درایو برای رمزگذاری بخشی از دستگاه خود که این اطلاعات پزشکی در آن ذخیره شده است، استفاده کنید. در نهایت، اگر رمزنگاری کامل دیسک را روی دستگاه خود فعال کرده‌اید، همه چیز - تمام اطلاعات پزشکی و همچنین هر فایل دیگر روی درایو، از جمله فایل‌های سیستم عامل کامپیوتر - رمزگذاری می‌شود. بنابراین، حتی اگر کسی رمز ورود کامپیوتر شما را پیدا کند، هنوز هم نیاز دارد رمز عبوری که برای رمزگذاری فایل حاوی اطلاعات پزشکی خود استفاده کرده‌اید را بداند تا بتواند به آن دسترسی پیدا کند.

## رمزنگاری داده‌های در حال انتقال

داده‌های "در حال انتقال" (data in transit) اطلاعاتی هستند که از یک مکان به مکان دیگر روی یک شبکه در حال حرکت هستند. به عنوان مثال، هنگامی که یک پیام در یک برنامه پیام‌رسانی ارسال می‌کنید، پیام از دستگاه شما، به سرورهای شرکت برنامه، و سپس به دستگاه گیرنده شما حرکت می‌کند. مثال دیگر مرور وب است: هنگامی که به یک وب‌سایت می‌روید، داده‌ها از آن صفحه وب از سرورهای وب‌سایت به مرورگر شما سفر می‌کنند.

دو روش برای رمزنگاری داده‌ها در حال انتقال وجود دارد: رمزنگاری لایه انتقال (transport-layer encryption) و رمزنگاری انتها-به-انتها (end-to-end encryption). نوع رمزنگاری که یک ارائه‌دهنده خدمات پشتیبانی می‌کند می‌تواند یک عامل مهم در تصمیم‌گیری در مورد خدماتی باشد که برای شما مناسب هستند. مهم است بدانید آیا مکالمات از طریق رمزنگاری لایه انتقال یا رمزنگاری انتها-به-انتها رمزگذاری شده‌اند.

### رمزنگاری لایه انتقال

رمزنگاری لایه انتقال، که معمولاً با استفاده از پروتکل (protocol) شناخته شده به عنوان امنیت لایه انتقال (transport layer security - TLS) پیاده‌سازی می‌شود، از پیام‌ها هنگام سفر از دستگاه شما به سرورهای برنامه، و سپس از سرورهای برنامه به دستگاه گیرنده شما محافظت می‌کند. در میانه، ارائه‌دهنده خدمات پیام‌رسانی شما - یا وب‌سایتی که در حال مرور آن هستید، یا برنامه‌ای که استفاده می‌کنید - می‌تواند نسخه‌های رمزگشایی شده پیام‌های شما را ببیند. از آنجا که پیام‌های شما می‌توانند توسط سرورهای شرکت دیده شوند (و اغلب روی آنها ذخیره می‌شوند)، ممکن است در برابر درخواست‌های اجرای قانون یا نشت در صورت به خطر افتادن سرورهای شرکت آسیب‌پذیر باشند.

#### نمونه رمزنگاری لایه انتقال: HTTPS

اگر نوار URL را در مرورگر خود بررسی کنید، ممکن است یک آیکون قفل یا یک آیکون منو ببینید که می‌توانید روی آن کلیک کنید تا یک منوی کشویی با یک قفل و پیامی مانند "اتصال امن" نمایش داده شود. این بدان معناست که وب‌سایت از HTTPS (Hypertext Transfer Protocol Secure) استفاده می‌کند، نمونه‌ای از رمزنگاری لایه انتقال که ما اغلب در وب با آن روبرو می‌شویم. این امنیت بیشتری نسبت به HTTP رمزگذاری نشده ارائه می‌دهد. چرا؟

سرورهای یک وب‌سایت HTTPS می‌توانند داده‌هایی را که هنگام حضور در سایت آنها وارد می‌کنید (به عنوان مثال، پیام‌ها، جستجوها، شماره‌های کارت اعتباری و ورودها) ببینند، اما این اطلاعات برای افرادی که در شبکه جاسوسی می‌کنند غیرقابل خواندن است.

اگر کسی در حال جاسوسی در شبکه است و سعی می‌کند ببیند کاربران از چه وب‌سایت‌هایی بازدید می‌کنند، یک اتصال HTTP هیچ محافظتی ارائه نمی‌دهد. از طرف دیگر، یک اتصال HTTPS صفحه خاصی را که در یک وب‌سایت به آن مراجعه می‌کنید - یعنی همه چیز "بعد از اسلش" - پنهان می‌کند. به عنوان مثال، اگر از HTTPS برای اتصال به "https://ssd.eff.org/en/module/what-encryption" استفاده می‌کنید، یک فرد جاسوس فقط می‌تواند "https://ssd.eff.org" را ببیند.

اگر به URL مرورگر خود نگاه می‌کنید و تعجب می‌کنید که چرا HTTPS یا HTTP را نمی‌بینید، به این دلیل است که HTTPS این روزها بسیار رایج است، بسیاری از مرورگرها حتی URL کامل را به طور پیش‌فرض نمایش نمی‌دهند.

فقط به این دلیل که یک سرویس از HTTPS استفاده می‌کند به این معنی نیست که سرویس به طور کامل از حریم خصوصی کاربران خود که از وب‌سایت آن بازدید می‌کنند محافظت می‌کند. به عنوان مثال، یک سایت محافظت شده با HTTPS ممکن است همچنان از کوکی‌های ردیابی (tracking cookies) استفاده کند یا بدافزار (malware) میزبانی کند.

#### نمونه رمزنگاری لایه انتقال: VPN

یک شبکه خصوصی مجازی (VPN - Virtual Private Network) نمونه دیگری از رمزنگاری لایه انتقال است. بدون VPN، ترافیک شما از طریق اتصال ارائه‌دهنده خدمات اینترنت (ISP) شما سفر می‌کند. با یک VPN، ترافیک شما هنوز از طریق اتصال ISP شما سفر می‌کند، اما بین شما و ارائه‌دهنده VPN شما رمزگذاری شده است. اگر کسی در شبکه محلی شما جاسوسی می‌کند و سعی می‌کند ببیند از چه وب‌سایت‌هایی بازدید می‌کنید، آنها قادر خواهند بود ببینند که شما به یک VPN متصل هستید و آن ارائه‌دهنده VPN کیست، اما نمی‌بینند که از چه وب‌سایت‌هایی بازدید می‌کنید.

در حالی که استفاده از یک VPN ترافیک شما را از ISP شما پنهان می‌کند، همچنین تمام ترافیک شما را در معرض ارائه‌دهنده VPN قرار می‌دهد. ارائه‌دهنده VPN قادر خواهد بود ترافیک شما را ببیند، ذخیره کند و تغییر دهد. استفاده از یک VPN اساساً اعتماد شما را از ISP به VPN منتقل می‌کند، بنابراین مهم است که مطمئن شوید به ارائه‌دهنده VPN خود برای محافظت از داده‌های خود اعتماد دارید.

### رمزنگاری انتها-به-انتها

رمزنگاری انتها-به-انتها از پیام‌ها در حال انتقال تمام راه از فرستنده به گیرنده محافظت می‌کند. این اطمینان می‌دهد که اطلاعات توسط فرستنده اصلی آن (اولین "انتها") به یک پیام مخفی تبدیل می‌شود و فقط توسط گیرنده نهایی آن (دومین "انتها") رمزگشایی می‌شود. هیچ کس، از جمله سرورهای برنامه‌ای که استفاده می‌کنید، نمی‌تواند "گوش دهد" و به فعالیت شما جاسوسی کند.

دسترسی به پیام‌های رمزگذاری شده انتها-به-انتها در یک برنامه روی دستگاه شما به این معنی است که خود شرکت برنامه نمی‌تواند آنها را بخواند. با این حال، در حالی که یک توسعه‌دهنده برنامه که از رمزنگاری انتها-به-انتها استفاده می‌کند نمی‌تواند محتوای یک پیام را ببیند، ممکن است همچنان انواع خاصی از فراداده (metadata) را جمع‌آوری کند، مانند زمان ارسال یک پیام یا آدرس IP (IP address) شما.

### رمزنگاری لایه انتقال یا رمزنگاری انتها-به-انتها؟

سؤالات مهمی که باید بپرسید تا تصمیم بگیرید آیا به رمزنگاری لایه انتقال یا رمزنگاری انتها-به-انتها نیاز دارید عبارتند از: آیا به برنامه یا سرویسی که استفاده می‌کنید اعتماد دارید؟ آیا به زیرساخت فنی آن اعتماد دارید؟ چطور درباره سیاست‌های آن برای محافظت در برابر درخواست‌های اجرای قانون؟

اگر به هر یک از این سؤالات "خیر" پاسخ دهید، پس به رمزنگاری انتها-به-انتها نیاز دارید. اگر "بله" پاسخ دهید، پس یک سرویس که فقط از رمزنگاری لایه انتقال پشتیبانی می‌کند ممکن است برای شما کافی باشد - اما بهتر است هنگامی که ممکن است، از سرویس‌هایی استفاده کنید که از رمزنگاری انتها-به-انتها پشتیبانی می‌کنند.

## رمزنگاری در حال انتقال چه کاری انجام نمی‌دهد

رمزنگاری درمان همه چیز نیست. حتی اگر پیام‌های رمزگذاری شده ارسال می‌کنید، پیام توسط شخصی که با او ارتباط برقرار می‌کنید رمزگشایی خواهد شد. اگر نقاط پایانی شما (دستگاه‌هایی که برای ارتباط استفاده می‌کنید) به خطر بیفتند، ارتباطات رمزگذاری شده شما می‌توانند به خطر بیفتند. علاوه بر این، شخصی که با او ارتباط برقرار می‌کنید می‌تواند اسکرین‌شات بگیرد یا سوابق (گزارش‌ها) ارتباط شما را نگه دارد.

اگر به طور خودکار پشتیبان‌های مکالمات رمزگذاری شده را در فضای ابری ذخیره می‌کنید، دقت کنید که پشتیبان‌های شما نیز رمزگذاری شده باشند. این اطمینان می‌دهد که مکالمات شما نه تنها در حال انتقال بلکه در حال استراحت نیز رمزگذاری شده‌اند.

اگر داده‌ها را در حال انتقال رمزگذاری کنید، از محتوای ارتباطات شما محافظت می‌کند، اما فراداده را رمزگذاری نمی‌کند. به عنوان مثال، می‌توانید از رمزنگاری برای تبدیل پیام‌های بین خود و دوست خود به چرندیات استفاده کنید، اما پنهان نمی‌کند:

- اینکه شما و دوست شما در حال ارتباط هستید.
- اینکه شما از رمزنگاری برای ارتباط استفاده می‌کنید.
- سایر انواع اطلاعات درباره ارتباط شما، مانند مکان، زمان‌ها و طول ارتباط.

افرادی که نگرانی‌های نظارتی بالایی دارند (مانند کسانی که نگران نظارت فعال بر شبکه‌های خود هستند) می‌توانند با استفاده از رمزنگاری فقط در زمان‌های حساس یا برای فعالیت‌های خاص، خود را در معرض خطر (risk) قرار دهند. چرا؟ اگر فقط گاهی اوقات از رمزنگاری استفاده کنید، می‌تواند فراداده شما را به تاریخ‌ها و زمان‌های مهم پیوند دهد. همچنین می‌تواند نشان دهد که شما آن ارتباطات را به ویژه حساس می‌دانید. بنابراین، تا حد ممکن از رمزنگاری استفاده کنید، حتی برای فعالیت‌های روزمره.

## جمع‌بندی

با هم، رمزنگاری هم داده‌ها در حال انتقال و هم در حال استراحت به شما محافظت جامع‌تری نسبت به استفاده از فقط یکی یا دیگری ارائه می‌دهد. با استفاده از چندین روش برای دفاع از داده‌های خود، می‌توانید به سطح عمیق‌تری از محافظت دست یابید. این چیزی است که متخصصان امنیت اطلاعات آن را "دفاع در عمق" می‌نامند.

به عنوان مثال، اگر پیام‌های رمزگذاری نشده (رمزنگاری نکردن داده‌های خود در حال انتقال) را از یک دستگاه تلفن همراه رمزگذاری شده (رمزنگاری داده‌های خود در حال استراحت) ارسال کنید، آن پیام‌ها همچنان در برابر شنود شبکه و رهگیری از سوی دولت‌ها، ارائه‌دهندگان خدمات یا مخالفان با مهارت فنی آسیب‌پذیر خواهند بود. سابقه پیام‌ها روی دستگاه تلفن همراه شما، با این حال، از کسی که دسترسی فیزیکی به دستگاه تلفن همراه شما دارد محافظت می‌شود اگر رمز عبور را نداشته باشند.

برعکس، اگر پیام‌های رمزگذاری شده انتها-به-انتها (رمزنگاری داده‌های خود در حال انتقال) را روی یک دستگاه رمزگذاری نشده (رمزنگاری نکردن داده‌های خود در حال استراحت) ارسال کنید، آن پیام‌ها از جاسوسی و شنود در شبکه ایمن خواهند بود. اما اگر کسی به دستگاه تلفن همراه شما دسترسی فیزیکی پیدا کند، می‌تواند به پیام‌ها دسترسی پیدا کند و آنها را بخواند.

با این مثال‌ها در ذهن، رمزنگاری داده‌های خود هم در حالی که در شبکه در حال انتقال هستند و هم در حالی که روی دستگاه شما در حال استراحت هستند، برای محافظت از خود در برابر طیف گسترده‌تری از خطرات بالقوه ایده‌آل است.
